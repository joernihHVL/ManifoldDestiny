# data-raw/metadata.json
titls: "Manifold Destiny"
titll: "Manifold Destiny - or how to rig an election"
addas: "Addendum"
addal: "Arizona General Election 2022"
addns: "Addendum"
addnl: "Nevada General Election 2022"

sec1:
  nmn: "Introduction"
  un1: "Setting up the election system"
  un2: "Tautologies using standard form (north vs. south)"
  un3: "Tautologies using hybrid form (west vs. east)"
  un4: "Tautologies using opposition form (upper vs. lower)"
  un5: "Modelling the election process"
  un6: "How outside factors to the voting system will impact $\\zeta_i$"
  un7: "How outside factors to the voting system will impact $\\Gamma_i$"

sec2:
  nmn: "Methods of Ballot Counting"
  un1: "Generic approach to ballot counting"
  un2: "The 20 laws and 40 isometries governing an election"
  un3: "Counting in a fair election"
  un4: "Counting in a rigged election"
  un5: "Implementing a loss-function in a rigged election"

sec3:
  nmn: "Election Simulations"
  un1: "Fair election"
  un2: "Rigged election"

sec4:
  nmn: "Checking for a rigged election"
  un1: "Procedure"

sec5:
  nmn: "Literature Review"
  un1: ""

sec6:
  nmn: "Applications"
  un1:  "Application 1:"
  un2:  "Application 2:"
  un3:  "Application 3:"
  un4:  "Application 4:"

sec7:
  nmn: "Restoring Original Election Results"
  un1: "Procedure"

sec8:
  nmn: "Conclusions"
  un1: "Procedure"

sec9:
  nmn: "References"

tabh:
  h0: "Fair election"
  h1: "Rigged election normal form"
  h2: "Rigged election hybrid form"
  h3: "Rigged election opposition form"

tabs:
  h1: "Descriptive"
  h2: "2d"
  h3: "Scatter"
  h4: "3d"
  h5: "Regression"
  h6: "Residuals"

app0:
  id: app0
  nid: app0
  nmn: Simulation
  rcn: Proto
  cnd: ['T', 'B']
  sta: null
  cou: []
  mod: ['EDV', 'MiV']
  yea: 2023
  url: https://docs.google.com/spreadsheets/d/107T8JmDdqRCeSVo4uZ-XJCWmLdfITOC64alk5ljrUqk/edit#gid=0
  pgn: 1
  rng: A1:F23
  cln: ['PN', 'RN', 'A1', 'B1', 'A2', 'B2']
  stuv: ['A1', 'B1', 'A2', 'B2']
  eq: alpha=k0+k1*x+k2*y
  va: y
  fr: 1
  ro: [0, 0, 0]
  bib: []
  prg:
    cnd: 1
    z: 0 
    stuv: [0,0,0,0]
    blup: [0,1]
    eqp: "alpha=k0+k1*g+k2*h"

app1:
  id: app1
  nid: app1
  nmn: Presidential ...
  rcn: Presidential
  cnd: ['Trump (R)', 'Biden (D)']
  sta: Nevada
  cou: ['Clark', 'Washoe']
  mod: ['EV', 'MiV']
  yea: 2020
  url: https://docs.google.com/spreadsheets/d/1gkf41sJRAQ6bwKmlAAcb7hAQ6v4zIXG2wDYl67LrJ4k/edit#gid=0
  pgn: 1
  rng: A2:F1288
  cln: ['PN', 'RN', 'A1', 'B1', 'A2', 'B2']
  stuv: ['A1', 'B1', 'A2', 'B2']
  eq: alpha=k0+k1*g+k2*h
  va: g
  fr: 2
  ro: [0, 0, 0]
  bib: ['sol2022i']
  sol:
    fr: "2"
    eq: "alpha=k0+k1*g+k2*h"
    va: "g"
    ex: ["alpha","g","h"]
  prg:
    cnd: 0
    z: 0 
    stuv: [0,0,0,0]
    blup: [0,1]
    eqp: "alpha=k0+k1*g+k2*h"

app2:
  id: app2
  nid: app2
  nmn: General
  rcn: "General Election"
  cnd: ['Stavros (R)', 'Miller(D)']
  sta: "Nevada"
  cou: []
  mod: ['ADV', 'MiV', 'EDV']
  yea: 2020
  url: "https://docs.google.com/spreadsheets/d/1jvLhOzaaQUqmpt7XTz01DoLsLiXr3vNAw-79_PBCOsw/edit#gid=0"
  pgn: 2
  rng: "A1:H151"
  cln: ['PN', 'RN', 'A1', 'B1', 'A2', 'B2', 'A3', 'B3']
  stuv: ['A1', 'B1', 'A2', 'B2']
  va: "g"
  fr: 2
  ro: [0, 0, 0]
  bib: ['https://www.documentcloud.org/documents/22088788-gilbert-v-sisolak-et-al', 'abc']
  sol:
    fr: "2"
    eq: "alpha=k0+k1*g+k2*g**2+k3*g*h+k4*h**2+k5*g**3+k6*g**2*h+k7*h**3"
    va: "g"
    ex: ["alpha","g","h"]
  prg:
    cnd: 0
    z: 0 
    stuv: [0,0,0,0]
    blup: [0,1]
    eqp: "alpha=k0+k1*g+k2*h"

app3:
  id: app3
  nid: app3
  nmn: abc
  rcn: Governor
  cnd: ['Lake (R)', 'Hobbs (D)']
  sta: Arizona
  cou: ['Maricopa']
  mod: ['EDV', 'MiV']
  yea: 2022
  url: https://docs.google.com/spreadsheets/d/1FxJg9hjU-M1MIeKl0koiHDVIp2dPAmm3nJpRzd5Ejdg/edit#gid=301195549
  pgn: 1
  rng: G5:O940
  cln: ['PC', 'PN', 'RN', 'A0', 'A1', 'A2', 'B0', 'B1', 'B2']
  stuv: ['A1', 'B1', 'A2', 'B2']
  eq: alpha=k0+k1*x+k2*y
  va: y
  fr: 1
  ro: [0, 0, 0]
  bib: []
  sol:
    fr: "2"
    eq: "alpha=k0+k1*g+k2*g**2+k3*g*h+k4*h**2+k5*g**3+k6*g**2*h+k7*h**3"
    va: "g"
    ex: ["alpha","g","h"]
  prg:
    cnd: 1
    z: 0 
    stuv: [0,0,0,0]
    blup: [0,1]
    eqp: "alpha=k0+k1*g+k2*h"

app4:
  id: app4
  nid: app4
  nmn: abc
  rcn: null
  cnd: ['Fritz', 'Ferry']
  sta: Nevada
  cou: []
  mod: ['ADV', 'MiV', 'EDV', 'Prov']
  yea: 2020
  url: https://docs.google.com/spreadsheets/d/1xN7lvxt1bHodRgHDk_wqJ9b1g3dZGSGKmSxIASPCGCI/edit#gid=301195549
  pgn: 3
  rng: A5:K315
  cln: ['CO', 'PN', 'RN', 'D1', 'D2', 'A1', 'A2', 'A3', 'B1', 'B2', 'B3']
  stuv: ['A3', 'B3', 'A1+A2', 'B1+B2']
  bib: ['']
  sol:
    fr: "2"
    eq: "alpha=k0+k1*h+k2*g+k3*h**2+k4*g*h+k5*g**2+k6*h**3+k7*h**2*g+k8*h*g**2+k9*g**3"
    va: "g"
    ex: ["alpha","g","h"]
  prg:
    cnd: 1
    z: 0 
    stuv: [0,0,0,0]
    blup: [0,1]
    eqp: "alpha=k0+k1*g+k2*h"

app5:
  id: app5
  nid: app5
  nmn: abc
  rcn: Presidiential
  cnd: ['Trump (R)', 'Biden (D)', 'Jorg (I)']
  sta: Georgia
  cou: ['Atlanta']
  mod: ['ADV', 'MiV', 'EDV']
  yea: 2020
  url: "https://docs.google.com/spreadsheets/d/1HoOpkuWDnfTG-mezrCBd7t04gb0YkhA5YDMzcgK-MVo/edit#gid=0"
  pgn: 2
  rng: A1:H151
  cln: ['PN', 'R', 'A1', 'B1', 'A2', 'B2', 'A3', 'B3']
  stuv: ['A1', 'B1', 'A2', 'B2']
  eq: "alpha=k0+k1*g+k2*g**2+k3*g*h+k4*h**2+k5*g**3+k6*g**2*h+k7*h**3"
  va: g
  fr: 1
  ro: [0, 0, 0]
  bib: ['https://docs.google.com/document/d/1X90y8zuBWI0NW2pFNjB77VcZIyBo-W4RiV1mb8BsMJE/edit']
  sol:
    fr: "2"
    eq: "alpha=k0+k1*h+k2*g+k3*h**2+k4*g*h+k5*g**2+k6*h**3+k7*h**2*g+k8*h*g**2+k9*g**3"
    va: "g"
    ex: ["alpha","g","h"]
  prg:
    cnd: 1
    z: 0 
    stuv: [0,0,0,0]
    blup: [0,1]
    eqp: "alpha=k0+k1*g+k2*h"

app6:
  id: app6
  nid: app6
  nmn: abc
  rcn: General Election
  cnd: ['Marchant (R)', 'Cisco (D)']
  sta: Nevada
  cou: []
  mod: ['ADV', 'MiV', 'EDV']
  yea: 2020
  url: https://docs.google.com/spreadsheets/d/1v9-bAI9INnjgfInEJBHNBp4D7N3-Opf4nDKJbzxdBrk/edit#gid=1531166097
  pgn: 2
  rng: A1:H151
  cln: ['PN', 'R', 'A1', 'B1', 'A2', 'B2', 'A3', 'B3']
  stuv: ['A1', 'B1', 'A2', 'B2']
  eq: "alpha=k0+k1*g+k2*g**2+k3*g*h+k4*h**2+k5*g**3+k6*g**2*h+k7*h**3"
  va: "g"
  fr: 1
  ro: [0, 0, 0]
  bib: ['']
  sol:
    fr: "2"
    eq: "alpha=k0+k1*h+k2*g+k3*h**2+k4*g*h+k5*g**2+k6*h**3+k7*h**2*g+k8*h*g**2+k9*g**3"
    va: "g"
    ex: ["alpha","g","h"]
  prg:
    cnd: 1
    z: 0 
    stuv: [0,0,0,0]
    blup: [0,1]
    eqp: "alpha=k0+k1*g+k2*h"

app7:
  lab: "The Equation of the School Board Trustee (District D) Race"
  nid: "yout"
  url: "https://docs.google.com/spreadsheets/d/1gCfmuK44sUeb0Hb0plAc8VllPSjtUiEHWlJjeHq3xXY/edit?gid=1306366563#gid=1306366563"
  bib: "https://docs.google.com/document/d/1yCc91KwvNFcTlNUkfHuHTN_kdeBbeaMcxZNjkdbHFxI/edit"
  pgn: "Trust D; No comment"
  eq: "alpha=k0+k1*g+k2*h"
  rng: "A16:P50"
  cln: ['PN','A1','B1','C1','D1','E1','A2','B2','C2','D2','E2','A3','B3','C3','D3','E3']
  stuv: ['A1+B1+C1+A2+B2+A3+B3+C3', 'D1+D3', 'E1+C2+E3', 'D2+E2']
  va: "g"
  fr: 2
  ro: [0, 0, 0]
  sol:
    fr: "2"
    eq: "alpha=k0+k1*g+k2*h"
    va: "g"
    ex: ["alpha","g","h"]
  prg:
    cnd: 1
    z: 0 
    stuv: [0,0,0,0]
    blup: [0,1]
    eqp: "alpha=k0+k1*g+k2*h"

shn1: "1"
shn2: "2"
################################################################################################################
#recoudatr(list(recn=recnav[1], 
  #      	 race='Presidential', 
  #      	 candidates=c('Trump (R)','Biden (D)'), 
  #      	 modes_of_voting=c("EV","MiV"), 
  #      	 state='Nevada', 
  #      	 county=c('Clark','Washoe'), 
  #      	 year=2020, 
  #      	 sug_sol=c('alpha=k0+k1*g+k2*h',solvf='g',root=1), 
  #      	 sht=c(ss="https://docs.google.com/spreadsheets/d/1gkf41sJRAQ6bwKmlAAcb7hAQ6v4zIXG2wDYl67LrJ4k/edit#gid=0",st=1,ra='A2:F1288'), 
  #      	 cln=c("PN","R","A1","B1","A2","B2"), bib=c("https://docs.google.com/spreadsheets/d/1gkf41sJRAQ6bwKmlAAcb7hAQ6v4zIXG2wDYl67LrJ4k/edit#gid=0", 
  #      	 "https://www.leg.state.nv.us/Statutes/69th/Stats199723.html#Stats199723page3471"), 
  #      	 recs=recnav
  #))
################################################################################################################
#recnav <- c('nevada_2020_presidential',
#	    'nevada_2020_clark_commissioner',
#	    'arizona_2022_governor',
#            'illinois_2022_clerk',
#            'georgia_2020_presidential',
#            'nevada_2022_secretary_of_state',
#            'nevada_2004_presidential',
#	    'nevada_2008_presidential',
#            'nevada_2022_secretary_of_state',
#	    'teexas_2022_presidential')[1:6]
#usethis::use_data(recnav, overwrite = TRUE)
#googlesheets4::gs4_auth(email="lotariohw26@gmail.com")
#################################################################################################################
#copy1 <- recoudatr(list(
#  recn=recnav[1],
#  race='Presidential',
#  candidates=c('Trump (R)','Biden (D)'),
#  modes_of_voting=c("EV","MiV"),
#  state='Nevada',
#  county=c('Clark','Washoe'),
#  year=2020,
#  sug_sol=c('alpha=k0+k1*g+k2*h',solvf='g',root=1),
#  sht=c(ss="https://docs.google.com/spreadsheets/d/1gkf41sJRAQ6bwKmlAAcb7hAQ6v4zIXG2wDYl67LrJ4k/edit#gid=0",st=1,ra='A2:F1288'),
#  cln=c("PN","R","A1","B1","A2","B2"),
#  bib=c("https://docs.google.com/spreadsheets/d/1gkf41sJRAQ6bwKmlAAcb7hAQ6v4zIXG2wDYl67LrJ4k/edit#gid=0",
#        "https://www.leg.state.nv.us/Statutes/69th/Stats199723.html#Stats199723page3471"),
#  recs=recnav
#))
#################################################################################################################
#copy2 <- recoudatr(list(
#  recn=recnav[2],
#  race='General Election',
#  candidates=c('Stavros (R)','Miller (D)'),
#  modes_of_voting=c("EV","MiV","EDV"),
#  state='Nevada',
#  county=c(''),
#  year=2020,
#  sug_sol=c('alpha=k0+k1*g+k2*g**2+k3*g*h+k4*h**2+k5*g**3+k6*g**2*h+k7*h**3',solvf='g',root=1),
#  sht=c(ss="https://docs.google.com/spreadsheets/d/1jvLhOzaaQUqmpt7XTz01DoLsLiXr3vNAw-79_PBCOsw/edit#gid=0",st='2',ra='A1:H151'),
#  cln=c("P","R","A1","B1","A2","B2","A3","B3"),
#  bib=c("https://www.documentcloud.org/documents/22088788-gilbert-v-sisolak-et-al"),
#  recs=recnav
#))
##################################################################################################################
#copy3 <- recoudatr(list(
#  recn=recnav[3],
#  race='l',
#  candidates=c('Lake (R)','Hobbs (D)'),
#  state='Maricopa',
#  county=c('Arizona'),
#  year=2022,
#  sug_sol=c('alpha=k0+k1*x+k2*y',solvf='y',root=1),
#  sht=c(ss="https://docs.google.com/spreadsheets/d/1FxJg9hjU-M1MIeKl0koiHDVIp2dPAmm3nJpRzd5Ejdg/edit#gid=301195549"
#,st='1',ra='G5:O940'),
#  cln=c("P","PN","R","A1","A2","B1","B2"),
#  bib=c()
#))
#################################################################################################################
#copy4 <- recoudatr(list(
#  recn=recnav[4],
#  race='l',
#  candidates=c('Fritz','Ferry'),
#  modes_of_voting=c("AdV","MiV","EDV","Prov"),
#  state='Illinois',
#  county=c('Will'),
#  year=2020,
#  sug_sol=c('alpha=k0+k1*h+k2*g+k3*h**2+k4*g*h+k5*g**2+k6*h**3+k7*h**2*g+k8*h*g**2+k9*g**3',solvf='g',root=1, 
#	    cntr='Solomon'),
#  sht=c(ss="https://docs.google.com/spreadsheets/d/1xN7lvxt1bHodRgHDk_wqJ9b1g3dZGSGKmSxIASPCGCI/edit#gid=301195549",st=3,ra='A5:K315'),
#  cld=c(4,5),
#  cln=c("C","PN","R","A1","A2","A3","B1","B2","B3"),
#  bib=c("https://docs.google.com/document/d/1ywNTOUZuJNB_viiwNuj029HZSzJEJdr7-2AY6n5SKsk/edit",
#	"https://docs.google.com/document/d/16Drw-NchWy3X3cOO1QheJdlY2Aprk3sWu7DQl3Vifcg/edit#heading=h.mbrhkokjyhxb")
#))
##################################################################################################################
##################################################################################################################
### Atlanta
#copy5 <- recoudatr(list(
#  recn=recnav[5],
#  race='Presidential',
#  candidates=c('Trump (R)','Biden (D)','Jorg (I)'),
#  state='Georgia',
#  county=c('Clayton','Cobb','...'),
#  year=2020,
#  sug_sol=c('alpha=k0+k1*g+k2*h',solvf='g',root=1),
#  sht=c(ss="https://docs.google.com/spreadsheets/d/1HoOpkuWDnfTG-mezrCBd7t04gb0YkhA5YDMzcgK-MVo/edit#gid=0",st=1,ra='B1:Q1025'),
#  cln=c("P","C","PN","R","A1","B1","A2","B2","A3","B3","C1","C2","C3","A4","B4","C4"),
#  bib=c("https://docs.google.com/document/d/1X90y8zuBWI0NW2pFNjB77VcZIyBo-W4RiV1mb8BsMJE/edit")
#))
##################################################################################################################
### neutral
#copy6 <- recoudatr(list(
#  recn=recnav[6],
#  race='',candidates=c('Marchant (R)','Cisco (D)'),
#  state='',
#  county=c(''),
#  year=2022,
#  sug_sol=c('alpha=NULL',solvf=NULL,root=1),
#  sht=c(ss='https://docs.google.com/spreadsheets/d/1gnUfOux-3U07YtuPHfuP-jmpPutp3WBVJ_gQ-9ZTr1k/edit#gid=811418100',st='5',range='A5:Q634'),
#  cld=c(4:11),
#  cln=c("C","P","R","A1","A2","A3","B1","B2","B3"),
#  bib=c("")
#))
##################################################################################################################
### neutral
##copy8 <- recoudatr(list(
##  recn=recnav[7],
##  race='Presidential',
##  candidates=c('Mcain (r)','Obama (d)'),
##  state='',
##  county=c(''),
##  year=2008,
##  sug_sol=c('fair election'),
##  sht=c(ss="https://docs.google.com/spreadsheets/d/1v9-bAI9INnjgfInEJBHNBp4D7N3-Opf4nDKJbzxdBrk/edit#gid=1531166097u",st=2,ra='A1:I782'),
##  cln=c("R","P","PN","A1","B2","A2","B2","A3","B3"),
##  bib=c()
##))
##copy6 <- recoudatr(list(
##  recn=recnav[6],
##  race='l',
##  candidates=c('',''),
##  state='Nevada',
##  county=c(''),
##  year=2020,
##  sug_sol=c('FAIR',solvf=NULL,root=NULL),
##  sht=c(ss="https://docs.google.com/spreadsheets/d/1DC5zZjoklVgTNExXRTxAIXYcq8_TpVn_WAK03pi6Fpw/edit#gid=0",st='2',ra='A1:I218'),
##  cln=c("R","P","PN","A1","B1","A2","B2","A3","B3"),
##  bib=c()
##))
##################################################################################################################
###################################################################################################################
##copy9 <- recoudatr(list(
##  recn=recnav[8],
##  race='',candidates=c('Marchant (R)','Cisco (D)'),
##  state='',
##  county=c(''),
##  year=2022,
##  sug_sol=c(alpha=NULL,solvf=NULL,root=1),
##  sht=c(ss='https://docs.google.com/spreadsheets/d/1gnUfOux-3U07YtuPHfuP-jmpPutp3WBVJ_gQ-9ZTr1k/edit#gid=811418100',st='5',range='A5:Q634'),
##  cld=c(4:11),
##  cln=c("C","P","R","A1","A2","A3","B1","B2","B3"),
##  bib=c("")
##))
##copy10 <- recoudatr(list(
##  recn=recnav[10],
##  race='Presidential',
##  candidates=c('Bush (R)','Kerry (D)'),
##  state='Texas',
##  county=c(''),
##  year=2004,
##  sug_sol=c("Fair"),
##  sht=c(ss='https://docs.google.com/spreadsheets/d/1DC5zZjoklVgTNExXRTxAIXYcq8_TpVn_WAK03pi6Fpw/edit#gid=0',st=2,range='A1:H611'),
##  cln=c("P","R","A1","B1","A2","B2","A3","B3"),
##  bib=c("")
##))
##################################################################################################################
#################################################################################################################
#################################################################################################################
##### Historial data
##hdt <- c('https://docs.google.com/spreadsheets/d/1xyMQovYh81Wptz-5fyVuLpL4uHrNE78NCDKOVQZ8MyE/edit#gid=0',
##'https://docs.google.com/spreadsheets/d/1v9-bAI9INnjgfInEJBHNBp4D7N3-Opf4nDKJbzxdBrk/edit#gid=0',
##'https://docs.google.com/spreadsheets/d/1pzpaOrABQ_9oJK5juubeG_gj4InJpkFzhi5yzxwqf8k/edit#gid=0', 
##'https://docs.google.com/spreadsheets/d/1Gs2Z3eo-ZNO7FZRGXZpgh6J2dJeyryCaMLSbUg3tQig/edit#gid=0', 
##'https://docs.google.com/spreadsheets/d/1DC5zZjoklVgTNExXRTxAIXYcq8_TpVn_WAK03pi6Fpw/edit#gid=0',
##'https://docs.google.com/spreadsheets/d/1tWgYZcv53teugdQi4WYmNEw0XlIBktrXqka8G6I7TJk/edit#gid=0',
##'https://docs.google.com/spreadsheets/d/1tAB6sjG7P-0y6PzxyYDvKMbYDK833MgQhfLti5Ip6Gg/edit#gid=1217173103',
##'https://docs.google.com/spreadsheets/d/1xk8IW9v03i0omZfUo9c75_7wuw9RvE1w8UqUyo1WzAw/edit#gid=1217173103')
###################################################################################################################
# lpy <<- py_genpolycoeff(plr=1,parm=c("alpha", "g", "h"), solvd='g',eur=eurv)

